<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Weather App</title>
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css"
      rel="stylesheet"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"
    />
    <style>
      .app-bar {
        display: flex;
        justify-content: center;
      }
      .time {
        text-align: center;
      }
      svg {
        margin-right: 30px;
      }
      .container {
        height: calc(100vh - 110px);
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
      }
    </style>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>

    <div id="app">
      <v-app id="inspire">
        <v-app-bar app dark color="blue" class="app-bar">
          <v-toolbar-title>Weather Now</v-toolbar-title>
        </v-app-bar>
        <v-content>
          <v-container fluid class="container">
            <v-row align="center" justify="center">
              <div class="title time">
                {{ time }}
              </div>
            </v-row>
            <v-row align="center" justify="center">
              <svg
                style="height:150px"
                x="0px"
                y="0px"
                viewBox="0 0 504.124 504.124"
                style="enable-background:new 0 0 504.124 504.124;"
                xml:space="preserve"
              >
                <path
                  style="fill:#EFC75E;"
                  d="M110.277,0h283.569c25.994,0,47.262,21.268,47.262,47.262v409.6
        c0,25.994-21.268,47.262-47.262,47.262H110.277c-25.994,0-47.262-21.268-47.262-47.262v-409.6C63.015,21.268,84.283,0,110.277,0z"
                />
                <path
                  style="fill:#D7B354;"
                  d="M330.831,129.969H173.293c-2.363,0-3.938,1.575-3.938,3.938v7.877c0,2.363,1.575,3.938,3.938,3.938
        h157.538c2.363,0,3.938-1.575,3.938-3.938v-7.877C334.77,131.938,333.194,129.969,330.831,129.969z M330.831,185.108H173.293
        c-2.363,0-3.938,1.575-3.938,3.938v7.877c0,2.363,1.575,3.938,3.938,3.938h157.538c2.363,0,3.938-1.575,3.938-3.938v-7.877
        C334.77,187.077,333.194,185.108,330.831,185.108z M330.831,244.185H173.293c-2.363,0-3.938,1.575-3.938,3.938V256
        c0,2.363,1.575,3.938,3.938,3.938h157.538c2.363,0,3.938-1.575,3.938-3.938v-7.877C334.77,246.154,333.194,244.185,330.831,244.185z
        "
                />
                <path
                  style="fill:#F5DD9E;"
                  d="M126.031,425.354c-8.665,0-15.754,7.089-15.754,15.754s7.089,15.754,15.754,15.754
        s15.754-7.089,15.754-15.754S134.695,425.354,126.031,425.354z M378.092,425.354c-8.665,0-15.754,7.089-15.754,15.754
        s7.089,15.754,15.754,15.754s15.754-7.089,15.754-15.754S386.757,425.354,378.092,425.354z M126.031,47.262
        c-8.665,0-15.754,7.089-15.754,15.754s7.089,15.754,15.754,15.754s15.754-7.089,15.754-15.754S134.695,47.262,126.031,47.262z
         M378.092,70.892c8.665,0,15.754-7.089,15.754-15.754s-7.089-15.754-15.754-15.754s-15.754,7.089-15.754,15.754
        S369.428,70.892,378.092,70.892z"
                />
                <path
                  style="fill:#F2F1EF;"
                  d="M204.801,285.145V99.643c0-26.782,20.48-48.443,47.262-48.443s47.262,21.662,47.262,48.443v185.502
        c0,10.24,5.12,20.086,12.603,27.569c14.178,14.572,22.843,34.658,22.843,56.714c0.394,44.111-35.446,81.92-79.557,83.495
        c-47.262,1.969-85.858-35.84-85.858-82.708c0-22.449,8.665-42.535,23.237-57.502C199.286,305.231,204.801,295.385,204.801,285.145z"
                />
                <path
                  style="fill:#E2574C;"
                  d="M319.016,370.215c0,37.022-29.932,66.954-66.954,66.954s-66.954-29.932-66.954-66.954
        c0-25.6,14.178-47.655,35.446-59.077V137.846h63.015v173.292C304.837,322.56,319.016,344.615,319.016,370.215z"
                />
                <path
                  style="fill:#E5685E;"
                  d="M283.569,311.138V137.846h-31.508v299.323c37.022,0,66.954-29.932,66.954-66.954
        C319.016,344.615,304.837,322.56,283.569,311.138z"
                />
                <path
                  style="fill:#CB4E44;"
                  d="M252.063,126.031c17.329,0,31.508,5.12,31.508,11.815c0,6.695-14.178,11.815-31.508,11.815
        s-31.508-5.12-31.508-11.815C220.555,131.545,234.732,126.031,252.063,126.031z"
                />
              </svg>
              <div class="display-3">{{ temperature }}&deg;C</div>
            </v-row>
            <v-row align="center" justify="center">
              <svg
                style="height:150px"
                x="0px"
                y="0px"
                viewBox="0 0 375.468 375.468"
                style="enable-background:new 0 0 375.468 375.468;"
                xml:space="preserve"
              >
                <g>
                  <g>
                    <path
                      d="M375.467,149.363c0-46.592-67.584-124.331-81.152-139.435c-6.654-7.069-17.779-7.406-24.849-0.751
                   c-0.258,0.243-0.509,0.493-0.751,0.751c-23.689,26.668-44.83,55.494-63.147,86.101c-11.093-13.568-19.627-23.211-22.443-26.368
                   c-6.654-7.069-17.779-7.406-24.849-0.751c-0.258,0.243-0.509,0.493-0.751,0.751c-23.28,26.383-44.883,54.199-64.683,83.285
                   c-7.851-13.227-15.445-24.491-19.541-30.379c-5.361-7.753-15.992-9.691-23.744-4.33c-1.693,1.171-3.16,2.638-4.33,4.33
                   c-10.24,15.531-45.227,68.267-45.227,95.061c-0.142,30.88,23.277,56.778,54.016,59.733
                   c14.241,64.424,78.011,105.106,142.436,90.866c54.655-12.081,93.595-60.491,93.681-116.466c-0.052-2.856-0.28-5.706-0.683-8.533
                   C338.204,239.138,375.639,198.287,375.467,149.363z M59.734,243.23c-14.138,0-25.6-11.462-25.6-25.6
                   c0-8.533,11.691-31.317,25.6-54.016c13.909,22.699,25.6,45.483,25.6,54.016C85.334,231.768,73.872,243.23,59.734,243.23z
                    M170.667,337.096c-39.838-0.219-74.29-27.816-83.2-66.645c19.647-10.299,31.969-30.638,32-52.821
                   c-0.668-9.606-3.098-19.007-7.168-27.733c0.684-3.758,2.2-7.315,4.437-10.411c16.539-25.133,34.547-49.267,53.931-72.277
                   c37.376,44.203,85.333,112.043,85.333,144.555C256.001,298.891,217.796,337.096,170.667,337.096z M281.601,209.096h-2.048
                   c-13.687-29.582-30.63-57.545-50.517-83.371c0.318-1.052,0.778-2.057,1.365-2.987c14.384-26.758,31.546-51.928,51.2-75.093
                   c27.989,34.133,59.733,80.384,59.733,101.717C341.334,182.353,314.59,209.096,281.601,209.096z"
                    />
                  </g>
                </g>
                <g>
                  <g>
                    <path
                      d="M325.724,129.757c-0.124-0.328-0.269-0.649-0.432-0.959c-1.365-2.987-2.901-6.059-4.523-9.131
                   c-2.523-3.981-7.795-5.163-11.776-2.64c-3.63,2.3-4.983,6.941-3.158,10.832c1.451,2.645,2.816,5.376,3.925,7.936
                   c1.667,4.408,6.592,6.63,11,4.962S327.391,134.165,325.724,129.757z"
                    />
                  </g>
                </g>
                <g>
                  <g>
                    <path
                      d="M309.846,101.917c-7.083-10.411-14.592-19.968-19.627-26.197c-2.787-3.8-8.127-4.622-11.928-1.835
                   c-3.8,2.787-4.622,8.127-1.835,11.928c0.167,0.228,0.346,0.448,0.536,0.659c4.864,5.973,12.032,15.104,18.688,25.003
                   c2.639,3.912,7.95,4.943,11.861,2.304C311.454,111.14,312.485,105.829,309.846,101.917z"
                    />
                  </g>
                </g>
                <g>
                  <g>
                    <path
                      d="M195.969,306.589c-1.343-4.524-6.1-7.103-10.624-5.76c-4.763,1.42-9.707,2.138-14.677,2.133
                   c-4.713,0-8.533,3.82-8.533,8.533s3.82,8.533,8.533,8.533c6.616,0.013,13.198-0.935,19.541-2.816
                   C194.733,315.87,197.312,311.114,195.969,306.589z"
                    />
                  </g>
                </g>
                <g>
                  <g>
                    <path
                      d="M236.459,232.307c-1.343-4.524-6.1-7.103-10.624-5.76c-4.524,1.343-7.103,6.1-5.76,10.624
                   c5.317,17.826,0.547,37.133-12.459,50.432c-3.303,3.361-3.256,8.764,0.105,12.068c1.505,1.479,3.504,2.348,5.612,2.439
                   c2.28-0.009,4.462-0.931,6.059-2.56C236.895,281.912,243.432,256.157,236.459,232.307z"
                    />
                  </g>
                </g>
              </svg>

              <div class="display-3">{{ humidity }}%</div>
            </v-row>
          </v-container>
        </v-content>
      </v-app>
    </div>

    <script>
      const app = new Vue({
        el: "#app",
        vuetify: new Vuetify(),
        data: {
          temperature: 0,
          humidity: 0,
          time: new Date()
        }
      });

      function fetchData() {
        fetch("/data")
          .then(response => response.json())
          .then(data => {
            app.$data.temperature = data.temperature;
            app.$data.humidity = data.humidity;
          });
      }
      fetchData();
      setInterval(fetchData, 5000);

      function clocker() {
        app.$data.time = new Date();
      }
      setInterval(clocker, 1000);
    </script>
  </body>
</html>
